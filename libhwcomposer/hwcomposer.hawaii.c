//
// This file was generated by the Retargetable Decompiler
// Website: https://retdec.com
// Copyright (c) 2016 Retargetable Decompiler <info@retdec.com>
//

#include <fcntl.h>
#include <pthread.h>
#include <stdbool.h>
#include <stdint.h>
#include <stdio.h>
#include <stdlib.h>
#include <string.h>
#include <stropts.h>
#include <sys/mman.h>
#include <sys/time.h>
#include <time.h>
#include <unistd.h>

// ------------------------ Structures ------------------------

struct struct_0 {
    int32_t e0;
    int32_t e1;
};

struct struct_21 {
    int32_t e0;
    int32_t e1;
    char e2[36];
    int32_t e3;
};

struct struct_23 {
    int32_t * e0;
    int32_t e1;
    int32_t e2;
    int32_t e3;
    char e4[228];
    int32_t e5;
    int32_t e6;
    int32_t e7;
    char e8;
    char e9;
    int32_t e10;
    int32_t e11;
    int32_t e12;
    int32_t e13;
    int32_t e14;
    int32_t e15;
    int32_t e16;
    int32_t e17;
    int32_t e18;
    int32_t e19;
};

struct struct__IO_FILE {
    int32_t e0;
    char * e1;
    char * e2;
    char * e3;
    char * e4;
    char * e5;
    char * e6;
    char * e7;
    char * e8;
    char * e9;
    char * e10;
    char * e11;
    struct struct__IO_marker * e12;
    struct struct__IO_FILE * e13;
    int32_t e14;
    int32_t e15;
    int32_t e16;
    int16_t e17;
    char e18;
    char e19[1];
    char * e20;
    int64_t e21;
    char * e22;
    char * e23;
    char * e24;
    char * e25;
    int32_t e26;
    int32_t e27;
    char e28[40];
};

struct struct__IO_marker {
    struct struct__IO_marker * e0;
    struct struct__IO_FILE * e1;
    int32_t e2;
};

// ------------------- Function Prototypes --------------------

int32_t _Z17hwc_event_controlP21hwc_composer_device_1iii(int32_t a1, int32_t a2, int32_t result, int32_t a4, int32_t a5);
int32_t _Z21hwc_getDisplayConfigsP21hwc_composer_device_1iPjS1_(int32_t a1, int32_t a2, int32_t a3);
int32_t _Z24hwc_getDisplayAttributesP21hwc_composer_device_1ijPKjPi(int32_t a1, int32_t a2, int32_t a3, int32_t a4, int32_t a5, int32_t a6, int32_t a7, int32_t a8, int32_t a9, int32_t a10, int32_t a11);
int32_t _Z9hwc_blankP21hwc_composer_device_1ii(int32_t a1);
int32_t _Z9hwc_queryP21hwc_composer_device_1iPi(int32_t a1, int32_t a2, int32_t a3, int32_t a4);
int32_t _ZN8FBDevice4initEv(int32_t a1, int32_t a2);
int32_t _ZN8FBDevice5getFBERi(int32_t a1, int32_t * a2);
int32_t _ZN8FBDevice5putFBEi(int32_t a1, int32_t a2);
int32_t _ZN8FBDevice5vsyncEv(int32_t a1);
int32_t _ZN8FBDeviceC2Ev(struct struct_23 * a1);
int32_t _ZN8FBDeviceD0Ev(int32_t ** a1);
int32_t _ZN8FBDeviceD1Ev(int32_t ** a1);
int32_t function_105c(void (*a1)(), int32_t a2);
void function_109c(int32_t a1);
int32_t function_10a4(int32_t a1, int32_t a2);
void function_10c0(int32_t a1, int32_t a2);
int32_t function_10c8(int32_t a1, int32_t a2, int32_t a3);
int32_t function_11b0(int32_t a1, char * str, char ** a3);
int32_t function_13a8(int32_t a1);
int32_t function_1f10(struct struct_21 * a1, int32_t a2);
struct struct_0 * function_1f60(struct struct_0 * result);
int32_t function_1f90(int32_t a1, int32_t result, int32_t a3, int32_t a4, int32_t a5);
void function_1fd0(void);
int32_t function_2014(int32_t * a1, int32_t a2);
int32_t function_203c(int32_t a1, int32_t a2);
int32_t function_e48(void);

// --------------------- Global Variables ---------------------

int32_t g19 = 0;
int32_t g20 = 0;
int32_t g21 = 0;
int32_t g22 = 0;
int32_t g23 = 0;
int32_t g24 = 0;
int32_t g25 = 0;
int32_t g26 = 0;
int32_t g27 = 0;
int32_t g28 = 0;
int32_t g29 = 0;
int32_t g30 = 0;
int32_t g31 = 0;
int32_t g32 = 0;
bool g1 = false;
int32_t g2 = 0x464c457f;
int32_t g3 = 0x1464c45;
int32_t g4 = 0;
int32_t g5 = 0;
int32_t g6 = 0;
int32_t g7 = 0x101464c;
int32_t g8 = 0x41e4;
int32_t g9 = 0x1010146;
struct struct_0 g10;
int32_t g11 = 52;
int32_t g12 = 224;
int32_t g13 = 0x5000;
int32_t g14 = 0;
int32_t g15 = 0;
int32_t g16 = 1;
int32_t g17 = 0x4e40;
struct struct_0 g18;

// ------------------------ Functions -------------------------

// Address range: 0xe48 - 0x105b
int32_t function_e48(void) {
    g26 = 0x5000;
    __cxa_finalize();
    return 0x5000;
}

// Address range: 0x105c - 0x109b
int32_t function_105c(void (*a1)(), int32_t a2) {
    return __cxa_atexit(a1, (char *)&g2, (char *)&g13);
}

// Address range: 0x109c - 0x10a3
void function_109c(int32_t a1) {
    return;
}

// Address range: 0x10a4 - 0x10bf
int32_t function_10a4(int32_t a1, int32_t a2) {
    if (g14 != 0) {
        *(int32_t *)(g14 + 280) = a1;
    }
    return 0x3f54;
}

// Address range: 0x10c0 - 0x10c7
void function_10c0(int32_t a1, int32_t a2) {
    *(int32_t *)(a1 + 116) = a2;
}

// Address range: 0x10c8 - 0x119f
int32_t function_10c8(int32_t a1, int32_t a2, int32_t a3) {
    if (a2 == 0) {
        return 0;
    }
    int32_t v1 = 1;
    int32_t v2 = 0;
    int32_t v3 = 0;
    while (true) {
        int32_t v4 = *(int32_t *)(4 * v3 + a3);
        int32_t v5 = v4;
        int32_t v6;
        if (v4 != 0) {
            if (*(int32_t *)(v4 + 12) % 2 != 0) {
                int32_t * v7 = (int32_t *)(a1 + 132);
                *v7 = v1;
                int32_t v8 = v5;
                int32_t v9 = *(int32_t *)(v8 + 16);
                int32_t v10 = v9;
                if (v9 != 0) {
                    int32_t v11 = 0;
                    while (true) {
                        int32_t v12 = v11 + 1;
                        int32_t v13 = v12;
                        int32_t v14 = v12;
                        int32_t v15 = v9;
                        if (*(int32_t *)(v8 + 20) != 3) {
                            if (*(int32_t *)(v8 + 28) % 2 != 0) {
                                *v7 = 0;
                                v14 = v13;
                                v15 = v10;
                            } else {
                                v14 = v12;
                                v15 = v9;
                            }
                        }
                        int32_t v16 = v8 + 96;
                        v8 = v16;
                        if (v14 >= v15) {
                            break;
                        }
                        v9 = v15;
                        v11 = v14;
                        v8 = v16;
                    }
                    int32_t v17 = 0;
                    int32_t v18 = v8;
                    while (true) {
                        int32_t * v19 = (int32_t *)(v18 + 20);
                        int32_t v20 = v18;
                        if (*v19 != 3) {
                            *v19 = *v7;
                            v20 = v8;
                        }
                        int32_t v21 = *(int32_t *)(v20 + 32);
                        int32_t v22 = v20;
                        if (v21 != 0) {
                            if ((*(int32_t *)(v21 + 56) & 0x4000) != 0) {
                                *(int32_t *)(v20 + 20) = v1;
                                v22 = v8;
                            } else {
                                v22 = v20;
                            }
                        }
                        int32_t v23 = v17 + 1;
                        int32_t v24 = v22 + 96;
                        v8 = v24;
                        if (*(int32_t *)(v5 + 16) <= v23) {
                            break;
                        }
                        v17 = v23;
                        v18 = v24;
                    }
                    v6 = v2 + 1;
                    v2 = v6;
                    if (v6 == a2) {
                        break;
                    }
                    v3 = v6;
                    a1 += 4;
                    continue;
                }
                v6 = v2 + 1;
                v2 = v6;
                if (v6 == a2) {
                    break;
                }
                v3 = v6;
                a1 += 4;
                continue;
            }
            v6 = v2 + 1;
            v2 = v6;
            if (v6 == a2) {
                break;
            }
            v3 = v6;
            a1 += 4;
            continue;
        }
        v6 = v2 + 1;
        v2 = v6;
        if (v6 == a2) {
            break;
        }
        v3 = v6;
        a1 += 4;
    }
    return 0;
}

// Address range: 0x11a0 - 0x11af
// Demangled:     hwc_blank(hwc_composer_device_1 *, int, int)
int32_t _Z9hwc_blankP21hwc_composer_device_1ii(int32_t a1) {
    if (g21 == 0) {
    }
    return -19;
}

// Address range: 0x11b0 - 0x13a7
int32_t function_11b0(int32_t a1, char * str, char ** a3) {
    int32_t v1;
    int32_t v2 = v1;
    g30 = (int32_t)a3;
    int32_t strcmp_rc = strcmp(str, "composer");
    g31 = strcmp_rc;
    if (strcmp_rc != 0) {
        return (int32_t)(int32_t *)-22;
    }
    char * mem = malloc(g4);
    g27 = (int32_t)mem;
    memset(mem, g31, g4);
    hw_get_module();
    __android_log_print();
    free((char *)g27);
    return (int32_t)(int32_t *)-22;
    *(int32_t *)(g27 + 260) = v1;
    char * v3 = _Znwj(g5);
    g28 = (int32_t)v3;
    _ZN8FBDeviceC2Ev((struct struct_23 *)v3);
    int32_t v4 = g28;
    *(int32_t *)(g27 + 120) = v4;
    int32_t v5 = _ZN8FBDevice4initEv(v4, (int32_t)&v2);
    g28 = v5;
    int32_t * v6;
    if (v5 == 0) {
        int32_t v7 = _Z9hwc_queryP21hwc_composer_device_1iPi;
        *(int32_t *)(g27 + 72) = (int32_t)_Z17hwc_event_controlP21hwc_composer_device_1iii;
        *(int32_t *)(g27 + 76) = (int32_t)_Z9hwc_blankP21hwc_composer_device_1ii;
        *(int32_t *)(g27 + 92) = (int32_t)_Z21hwc_getDisplayConfigsP21hwc_composer_device_1iPjS1_;
        *(int32_t *)(g27 + 96) = (int32_t)_Z24hwc_getDisplayAttributesP21hwc_composer_device_1ijPKjPi;
        *(int32_t *)g27 = 0x48574454;
        *(int32_t *)(g27 + 84) = (int32_t)function_10c0;
        *(int32_t *)(g27 + 8) = g29;
        *(int32_t *)(g27 + 60) = 0x1518;
        *(int32_t *)(g27 + 4) = 0x1020001;
        *(int32_t *)(g27 + 64) = function_10c8;
        *(int32_t *)(g27 + 68) = 0x1750;
        *(int32_t *)(g27 + 80) = v7;
        *(int32_t *)(g27 + 88) = g28;
        _Z14getV3DComposerv();
        *(int32_t *)(g27 + 128) = v7;
        pthread_mutex_init((int32_t *)(g27 + 292), (int32_t *)g28);
        *(int32_t *)(g27 + 276) = g28;
        *(char *)(g27 + 272) = (char)1;
        *(char *)(g27 + 284) = (char)g28;
        pthread_create((int32_t *)(g27 + 268), (int32_t *)g28, (void (*)(char *))0x13a8, (int32_t *)g27);
        *(int32_t *)g30 = g27;
        *(int32_t *)(g29 + 132) = g27;
        v6 = (int32_t *)g28;
    } else {
        int32_t v8 = g27;
        int32_t v9 = *(int32_t *)(v8 + 120);
        g20 = v9;
        g1 = v9 == 0;
        int32_t v10;
        if (v9 != 0) {
            int32_t v11 = *(int32_t *)(*(int32_t *)v9 + 4);
            g21 = v11;
            g19 = 0x1334;
            ((int32_t (*)())v11)();
            v10 = g27;
        } else {
            v10 = v8;
        }
        free((char *)v10);
        v6 = (int32_t *)-22;
    }
    return (int32_t)v6;
}

// Address range: 0x13a8 - 0x156b
int32_t function_13a8(int32_t a1) {
    int32_t v1 = g27;
    int32_t v2 = g28;
    int32_t v3 = g23;
    g27 = a1;
    int32_t v4 = *(int32_t *)0x4f48;
    g22 = v4;
    int32_t * v5 = (int32_t *)v4;
    int32_t v6 = *v5;
    g32 = 0x3b9aca00;
    __android_log_print();
    g29 = 0x2d48;
    g30 = 0x2d5c;
    int32_t v7 = g27;
    while (true) {
        _ZN8FBDevice5vsyncEv(*(int32_t *)(v7 + 120));
        int32_t * v8 = (int32_t *)(g27 + 276);
        *v8 = *v8 + 1;
        property_get();
        int32_t str;
        atoi((char *)&str);
        int32_t v9 = g27;
        int32_t v10 = 0;
        if (*(char *)(v9 + 284) == 0) {
            uint32_t v11 = g29;
            v10 = v11 > 1 ? 0 : 1 - v11;
        }
        char v12 = *(char *)(v9 + 264);
        g24 = v12;
        int32_t v13 = v9;
        char v14;
        if (v12 != 0) {
            int32_t v15 = *(int32_t *)(v9 + 116);
            g31 = v15;
            int32_t v16 = *(int32_t *)(v15 + 4);
            g28 = v16;
            if (v16 != 0) {
                g1 = v10 == 0;
                int32_t v17;
                int32_t v18;
                if (v10 == 0) {
                    uint32_t v19 = *(int32_t *)(v9 + 276);
                    g19 = v19;
                    g1 = v19 % 2 == 0;
                    if (v19 % 2 != 0) {
                        clock_gettime();
                        g21 = 0;
                        v18 = g31;
                        g20 = v18;
                        v17 = g32;
                        g23 = v17;
                        g22 = 0;
                        g25 = 0;
                        g26 = v17;
                        g19 = 0x14b4;
                        ((int32_t (*)(int32_t, int32_t))g28)(v18, g2);
                        v13 = g27;
                    } else {
                        v13 = v9;
                    }
                } else {
                    clock_gettime();
                    g21 = 0;
                    v18 = g31;
                    g20 = v18;
                    v17 = g32;
                    g23 = v17;
                    g22 = 0;
                    g25 = 0;
                    g26 = v17;
                    g19 = 0x14b4;
                    ((int32_t (*)(int32_t, int32_t))g28)(v18, g2);
                    v13 = g27;
                }
                v14 = *(char *)(v13 + 272);
                g28 = v14;
                if (v14 == 0) {
                    break;
                }
                v7 = v13;
                continue;
            } else {
                v13 = v9;
            }
            v14 = *(char *)(v13 + 272);
            g28 = v14;
            if (v14 == 0) {
                break;
            }
            v7 = v13;
            continue;
        }
        v14 = *(char *)(v13 + 272);
        g28 = v14;
        if (v14 == 0) {
            break;
        }
        v7 = v13;
    }
    g21 = 0x2cf8;
    __android_log_print();
    g23 = v4;
    g25 = v6;
    int32_t result = g28;
    int32_t v20 = *v5;
    g26 = v20;
    if (v6 == v20) {
        g27 = v1;
        g28 = v2;
        g23 = v3;
        return result;
    }
    __stack_chk_fail();
    if (v6 == v20) {
        g26 = 0x800000 * result & result;
        g21 = result / 0x10000 & result;
    }
    int32_t v21 = g27;
    int32_t v22 = g19;
    g1 = result == 0;
    g27 = result;
    if (result == 0) {
        g20 = 0;
        g27 = v21;
        ((int32_t (*)())v22)();
        return g20;
    }
    g26 = 0;
    *(int32_t *)(result + 128) = 0;
    *(char *)(g27 + 272) = (char)g26;
    int32_t retval;
    pthread_join(*(int32_t *)(result + 268), (int32_t **)&retval);
    int32_t v23 = g27;
    int32_t v24 = *(int32_t *)(v23 + 120);
    g20 = v24;
    g1 = v24 == 0;
    int32_t v25;
    if (v24 != 0) {
        int32_t v26 = *(int32_t *)v24;
        g25 = v26;
        int32_t v27 = *(int32_t *)(v26 + 4);
        g21 = v27;
        g19 = 0x1558;
        ((int32_t (*)())v27)();
        v25 = g27;
    } else {
        v25 = v23;
    }
    free((char *)v25);
    g20 = 0;
    g27 = v21;
    ((int32_t (*)())v22)();
    return g20;
}

// Address range: 0x156c - 0x15e3
// Demangled:     hwc_event_control(hwc_composer_device_1 *, int, int, int)
int32_t _Z17hwc_event_controlP21hwc_composer_device_1iii(int32_t a1, int32_t a2, int32_t result, int32_t a4, int32_t a5) {
    int32_t mutex = a1 + 292;
    pthread_mutex_lock((int32_t *)mutex);
    if (result == 0) {
        *(char *)(a1 + 264) = (char)(a4 != 0);
    } else {
        result = -22;
        __android_log_print();
    }
    pthread_mutex_unlock((int32_t *)mutex);
    return result;
}

// Address range: 0x15e4 - 0x1623
// Demangled:     hwc_getDisplayConfigs(hwc_composer_device_1 *, int, unsigned int *, unsigned int *)
int32_t _Z21hwc_getDisplayConfigsP21hwc_composer_device_1iPjS1_(int32_t a1, int32_t a2, int32_t a3) {
    int32_t result = -19;
    if (a2 != 0) {
        return result;
    }
    if (g26 == 0) {
        return 1;
    }
    if (a3 == 0) {
        result = 1;
    } else {
        if (*(int32_t *)g26 != 0) {
            *(int32_t *)g25 = 1;
            *(int32_t *)g26 = 1;
            result = g21;
        }
    }
    return result;
}

// Address range: 0x1624 - 0x16f3
// Demangled:     hwc_query(hwc_composer_device_1 *, int, int *)
int32_t _Z9hwc_queryP21hwc_composer_device_1iPi(int32_t a1, int32_t a2, int32_t a3, int32_t a4) {
    int32_t v1 = a2 - 1;
    g24 = v1;
    g1 = v1 == 4;
    ((int32_t (*)())(int32_t)(v1 < 5))();
    g19 = 0x167c;
    g20 = 6;
    g21 = 0x2cf8;
    __android_log_print();
    g26 = a4;
    return -1;
}

// Address range: 0x16f4 - 0x1f0f
// Demangled:     hwc_getDisplayAttributes(hwc_composer_device_1 *, int, unsigned int, unsigned int const *, int *)
int32_t _Z24hwc_getDisplayAttributesP21hwc_composer_device_1ijPKjPi(int32_t a1, int32_t a2, int32_t a3, int32_t a4, int32_t a5, int32_t a6, int32_t a7, int32_t a8, int32_t a9, int32_t a10, int32_t a11) {
    g25 = a2;
    g27 = a1;
    g30 = a5;
    if (a2 != 0) {
        return -19;
    }
    int32_t v1 = g26;
    int32_t v2 = *(int32_t *)v1;
    g1 = v2 == 0;
    int32_t v3;
    int32_t v4;
    int32_t v5;
    int32_t v6;
    int32_t v7;
    int32_t v8;
    int32_t v9;
    int32_t v10;
    int32_t v11;
    int32_t v12;
    int32_t v13;
    int32_t v14;
    int32_t v15;
    int32_t v16;
    int32_t v17;
    int32_t v18;
    if (v2 == 0) {
    } else {
        g29 = v1;
        g28 = 4;
        int32_t v19 = a5;
        int32_t v20 = 0;
        while (true) {
            _Z9hwc_queryP21hwc_composer_device_1iPi(a1, v2, v20 + v19, g26);
            int32_t v21 = g29 + 4;
            g29 = v21;
            int32_t v22 = *(int32_t *)v21;
            int32_t v23 = g28;
            g25 = v23;
            g28 = v23 + 4;
            g1 = v22 == 0;
            if (v22 == 0) {
                g20 = 0;
                g26 = a5;
                g27 = a6;
                int32_t v24 = g10.e1;
                g28 = v24;
                g29 = a8;
                int32_t v25 = g18.e1;
                g30 = v25;
                int32_t (*v26)() = (int32_t (*)())a10;
                v26();
                g20 = 0;
                g26 = a5;
                g27 = a6;
                g28 = v24;
                g29 = a8;
                g30 = v25;
                v26();
                v13 = g27;
                v14 = g28;
                v15 = g29;
                v16 = g30;
                v17 = g31;
                v18 = g32;
                v10 = g22;
                v11 = g23;
                v12 = g19;
                v4 = g20;
                g1 = v4 == 0;
                if (v4 == 0) {
                } else {
                    v5 = g25;
                    g1 = v5 == 0;
                    g28 = v4;
                    int32_t v27;
                    int32_t v28;
                    if (v5 == 0) {
                        v28 = g21;
                        v27 = 0;
                      lab_0x1778_2:
                        g20 = 0;
                        g27 = v13;
                        g28 = v14;
                        g29 = v15;
                        g30 = v16;
                        g31 = v17;
                        g32 = v18;
                        g22 = v10;
                        g23 = v11;
                        ((int32_t (*)())v12)();
                        v6 = g27;
                        v9 = v28;
                        v7 = v27;
                    } else {
                        g27 = 0;
                        v6 = 0;
                        v9 = g21;
                        v7 = v5;
                    }
                  lab_0x1784_2:
                    v3 = v6;
                    _ZN8HwImgBuf6createEjjjjj();
                    v8 = v9;
                    if (v9 < 2) {
                      lab_if_17a4_0_true:
                        v8 = 2;
                    }
                  lab_after_if_17a4_0:;
                    int32_t ** v29 = (int32_t **)v3;
                    _ZN7HwImgOp6createEv();
                    int32_t v30 = g27;
                    g21 = v30;
                    g25 = v30;
                    g26 = v30;
                    int32_t v31 = v3;
                    _ZN8HwImgBuf6createEjjjjj();
                    g24 = v8;
                    if (v8 != 0) {
                        g22 = v31;
                        int32_t v32 = g28;
                        g32 = v32;
                        int32_t v33 = g27;
                        g26 = 0;
                        g25 = v33;
                        int32_t v34 = v32 + 4;
                        g23 = v34;
                        int32_t v35 = v33 + 1;
                        g21 = v35;
                        g27 = v35;
                        while (v35 != v8) {
                            v33 = v35;
                            g26 = 0;
                            g25 = v33;
                            v34 += 4;
                            g23 = v34;
                            v35 = v33 + 1;
                            g21 = v35;
                            g27 = v35;
                        }
                    }
                    g19 = v9;
                    int32_t ** v36;
                    if (v9 >= 3) {
                        g23 = 2;
                        int32_t v37 = (int32_t)&v29;
                        int32_t v38 = 2;
                        while (true) {
                            g21 = v7;
                            int32_t v39 = g28;
                            int32_t v40 = *(int32_t *)(v39 + 280);
                            g24 = v40;
                            int32_t v41 = *(int32_t *)(4 * v38 + v7);
                            g27 = v41;
                            g1 = v41 == 0;
                            int32_t v42;
                            int32_t v43;
                            if (v41 != 0) {
                                g1 = v40 == 0;
                                if (v40 != 0) {
                                    v43 = v40;
                                    v42 = v39;
                                  lab_0x1bc0:
                                    g29 = *(int32_t *)(v42 + 260);
                                    g20 = v43;
                                    *(char *)(v42 + 284) = 1;
                                    int32_t v44;
                                    g26 = &v44;
                                    g21 = 0;
                                    int32_t v45 = *(int32_t *)(g29 + 200);
                                    g22 = v45;
                                    g25 = v37;
                                    g19 = 0x1be4;
                                    ((int32_t (*)())v45)();
                                    g20 = (int32_t)v29;
                                    int32_t v46;
                                    g21 = &v46;
                                    int32_t ** v47;
                                    g25 = (int32_t)&v47;
                                    int32_t v48;
                                    g32 = &v48;
                                    int32_t v49 = g3;
                                    g26 = v49;
                                    int32_t v50 = *(int32_t *)(v49 + 24);
                                    g24 = v50;
                                    g19 = 0x1c00;
                                    ((int32_t (*)())v50)();
                                    g20 = (int32_t)v29;
                                    int32_t v51;
                                    g21 = &v51;
                                    int32_t v52;
                                    g25 = &v52;
                                    int32_t ** v53;
                                    g26 = (int32_t)&v53;
                                    int32_t v54 = g3;
                                    g30 = v54;
                                    int32_t v55 = *(int32_t *)(v54 + 44);
                                    g29 = v55;
                                    g19 = 0x1c20;
                                    ((int32_t (*)())v55)();
                                    int32_t v56 = g27;
                                    int32_t ** v57 = v53;
                                    int32_t v58 = (int32_t)v57;
                                    g32 = v58;
                                    int32_t v59 = *(int32_t *)(v56 + 16) - 1;
                                    g22 = v59;
                                    int32_t ** v60;
                                    int32_t v61;
                                    if (v59 < 1) {
                                        g29 = 0;
                                        g30 = v58;
                                        v61 = 0;
                                        v60 = NULL;
                                    } else {
                                        g31 = v48;
                                        g29 = 0;
                                        g26 = 0;
                                        int32_t v62 = 0;
                                        int32_t v63 = 0;
                                        int32_t ** v64 = NULL;
                                        int32_t ** v65;
                                        int32_t ** v66;
                                        int32_t v67;
                                        int32_t v68;
                                        while (true) {
                                            v67 = v62;
                                            v68 = v58;
                                            int32_t v69 = v59;
                                            int32_t v70 = v63;
                                            v66 = v64;
                                            v65 = v57;
                                            if (*(int32_t *)(v56 + 20) != 0) {
                                                if (*(int32_t *)(v56 + 32) != 0) {
                                                    int32_t v71 = g27 + 96 * v63;
                                                    int32_t v72 = v71 + 60;
                                                    int32_t v73 = v72;
                                                    int32_t * v74 = (int32_t *)v72;
                                                    int32_t v75 = *v74;
                                                    int32_t v76 = v75;
                                                    int32_t v77 = *(int32_t *)(v71 + 64);
                                                    int32_t v78 = *(int32_t *)(v71 + 68);
                                                    if (v75 < 0) {
                                                        v76 = 0;
                                                        *v74 = 0;
                                                        v72 = v73;
                                                    }
                                                    if (v77 < 0) {
                                                        v77 = 0;
                                                        *(int32_t *)(v72 + 4) = 0;
                                                    }
                                                    uint32_t v79 = g32;
                                                    if (v79 < v78) {
                                                        *(int32_t *)(v73 + 8) = v79;
                                                        v78 = g32;
                                                    }
                                                    uint32_t v80 = g31;
                                                    int32_t v81 = *(int32_t *)(v72 + 12);
                                                    int32_t v82;
                                                    int32_t v83;
                                                    if (v81 > v80) {
                                                        *(int32_t *)(v73 + 12) = v80;
                                                        v83 = (int32_t)v57;
                                                        v82 = g31;
                                                    } else {
                                                        v83 = (int32_t)v57;
                                                        v82 = v81;
                                                    }
                                                    int32_t v84 = v58;
                                                    int32_t v85 = v84;
                                                    if (v84 >= v77) {
                                                        v85 = v77;
                                                    }
                                                    int32_t v86 = g29;
                                                    int32_t v87 = v86;
                                                    if (v86 < v82) {
                                                        g29 = v82;
                                                        v87 = v82;
                                                    }
                                                    int32_t v88 = v83;
                                                    if (v83 >= v76) {
                                                        v88 = v76;
                                                    }
                                                    int32_t v89 = (int32_t)v64;
                                                    v67 = v87;
                                                    v68 = v85;
                                                    v69 = g22;
                                                    v70 = g26;
                                                    v66 = (int32_t **)(v89 < v78 ? v78 : v89);
                                                    v65 = (int32_t **)v88;
                                                } else {
                                                    v67 = v62;
                                                    v68 = v58;
                                                    v69 = v59;
                                                    v70 = v63;
                                                    v66 = v64;
                                                    v65 = v57;
                                                }
                                            }
                                            int32_t v90 = v70 + 1;
                                            g26 = v90;
                                            int32_t v91 = v56 + 96;
                                            if (v69 <= v90) {
                                                break;
                                            }
                                            v62 = v67;
                                            v58 = v68;
                                            v59 = v69;
                                            v63 = v90;
                                            v56 = v91;
                                            v64 = v66;
                                            v57 = v65;
                                        }
                                        g30 = v68;
                                        v61 = v67;
                                        v58 = (int32_t)v65;
                                        v60 = v66;
                                        v57 = v65;
                                    }
                                    g24 = v58;
                                    int32_t v92 = v46;
                                    g25 = v92;
                                    g1 = v58 == v92;
                                    int32_t v93 = (int32_t)v60;
                                    int32_t v94 = v93;
                                    if (v58 == v92) {
                                        g21 = v93;
                                        g1 = true;
                                        g1 = v60 == NULL;
                                        if (v60 == NULL) {
                                            g1 = v61 == 0;
                                            if (v61 == 0) {
                                                v36 = v29;
                                                g20 = (int32_t)v36;
                                                g1 = v36 == NULL;
                                                if (v36 != NULL) {
                                                  lab_0x1e58_3:;
                                                    int32_t v95 = g3;
                                                    g25 = v95;
                                                    int32_t v96 = *(int32_t *)(v95 + 4);
                                                    g21 = v96;
                                                    g19 = 0x1e64;
                                                    ((int32_t (*)())v96)();
                                                }
                                              lab_0x1e64_3:
                                                g1 = v31 == 0;
                                                if (v31 != 0) {
                                                    int32_t v97 = g3;
                                                    g26 = v97;
                                                    g20 = v31;
                                                    int32_t v98 = *(int32_t *)(v97 + 4);
                                                    g24 = v98;
                                                    g19 = 0x1e80;
                                                    ((int32_t (*)())v98)();
                                                }
                                                g24 = v30;
                                                g1 = v30 == 0;
                                                if (v30 == 0) {
                                                    v28 = v9;
                                                    v27 = v7;
                                                    goto lab_0x1778_2;
                                                }
                                                g20 = v30;
                                                int32_t v99 = *(int32_t *)(g3 + 4);
                                                g21 = v99;
                                                g19 = 0x1e9c;
                                                ((int32_t (*)())v99)();
                                                v28 = v9;
                                                v27 = v7;
                                                goto lab_0x1778_2;
                                            } else {
                                                v94 = 0;
                                            }
                                        } else {
                                            v94 = v93;
                                        }
                                    }
                                    int32_t v100 = *(int32_t *)(g28 + 128);
                                    g20 = v100;
                                    g25 = 1;
                                    g21 = (int32_t)v29;
                                    int32_t v101 = *(int32_t *)(*(int32_t *)v100 + 12);
                                    g26 = v101;
                                    g19 = 0x1d4c;
                                    ((int32_t (*)())v101)();
                                    g20 = (int32_t)v29;
                                    g21 = 0;
                                    int32_t v102 = g3;
                                    g24 = v102;
                                    int32_t v103 = *(int32_t *)(v102 + 12);
                                    g25 = v103;
                                    g19 = 0x1d60;
                                    ((int32_t (*)())v103)();
                                    g20 = (int32_t)v29;
                                    g21 = v30;
                                    int32_t v104 = g3;
                                    g26 = v104;
                                    int32_t v105 = *(int32_t *)(v104 + 8);
                                    g24 = v105;
                                    g19 = 0x1d74;
                                    ((int32_t (*)())v105)();
                                    g21 = (int32_t)v57;
                                    g20 = v31;
                                    g25 = g30;
                                    int32_t v106 = *(int32_t *)(g3 + 8);
                                    g24 = v106;
                                    g26 = v94;
                                    g19 = 0x1d98;
                                    ((int32_t (*)(int32_t))v106)(v31);
                                    g29 = v31;
                                    int32_t v107 = g15;
                                    g21 = v107;
                                    int32_t v108 = g3;
                                    g26 = v108;
                                    g20 = v31;
                                    g1 = v107 == 0;
                                    if (v107 == 0) {
                                        g21 = 3;
                                        int32_t v109 = *(int32_t *)(v108 + 16);
                                        g29 = v109;
                                        g19 = 0x1eac;
                                        ((int32_t (*)())v109)();
                                    } else {
                                        g1 = v107 == 4;
                                        if (v107 != 4) {
                                            g1 = v107 == 7;
                                            if (v107 != 7) {
                                                g21 = 3;
                                            }
                                        }
                                        int32_t v110 = *(int32_t *)(v108 + 16);
                                        g25 = v110;
                                        g19 = 0x1dcc;
                                        ((int32_t (*)())v110)();
                                    }
                                    int32_t v111 = *(int32_t *)(g28 + 128);
                                    g20 = v111;
                                    g23++;
                                    g25 = v31;
                                    g21 = (int32_t)v29;
                                    int32_t v112 = *(int32_t *)(*(int32_t *)v111 + 16);
                                    g29 = v112;
                                    g19 = 0x1de8;
                                    ((int32_t (*)())v112)();
                                    g20 = (int32_t)v29;
                                    g21 = 0;
                                    int32_t v113 = g3;
                                    g26 = v113;
                                    int32_t v114 = *(int32_t *)(v113 + 12);
                                    g24 = v114;
                                    g19 = 0x1dfc;
                                    ((int32_t (*)())v114)();
                                    int32_t v115 = *(int32_t *)(g28 + 128);
                                    g20 = v115;
                                    g21 = 0;
                                    int32_t v116 = *(int32_t *)v115;
                                    g25 = v116;
                                    int32_t v117 = *(int32_t *)(v116 + 20);
                                    g29 = v117;
                                    g19 = 0x1e10;
                                    ((int32_t (*)())v117)();
                                    int32_t v118 = g28;
                                    int32_t v119 = *(int32_t *)(v118 + 128);
                                    g20 = v119;
                                    int32_t v120 = *(int32_t *)(v118 + 260);
                                    g26 = v120;
                                    int32_t v121 = *(int32_t *)v119;
                                    g24 = v121;
                                    g29 = *(int32_t *)(v120 + 192);
                                    int32_t v122 = *(int32_t *)(v121 + 28);
                                    g21 = v122;
                                    g19 = 0x1e28;
                                    ((int32_t (*)())v122)();
                                    g21 = g20;
                                    g20 = v40;
                                    g19 = 0x1e34;
                                    ((int32_t (*)())g29)();
                                    g21 = *(int32_t *)(g27 + 8);
                                    eglSwapBuffers();
                                    int32_t v123 = g23;
                                    g26 = v123;
                                    if (v123 == v9) {
                                        break;
                                    }
                                    v38 = v123;
                                    continue;
                                }
                            }
                            *(char *)(v39 + 284) = 0;
                            if (g1) {
                                int32_t v124 = g23 + 1;
                                g23 = v124;
                                g26 = v124;
                                if (v124 == v9) {
                                    break;
                                }
                                v38 = v124;
                                continue;
                            } else {
                                v43 = g24;
                                v42 = g28;
                                goto lab_0x1bc0;
                            }
                            v36 = v29;
                            g20 = (int32_t)v36;
                            g1 = v36 == NULL;
                            if (v36 == NULL) {
                                goto lab_0x1e64_3;
                            }
                            goto lab_0x1e58_3;
                        }
                        v36 = v29;
                        g20 = (int32_t)v36;
                        g1 = v36 == NULL;
                        if (v36 == NULL) {
                            goto lab_0x1e64_3;
                        }
                        goto lab_0x1e58_3;
                    }
                    v36 = v29;
                    g20 = (int32_t)v36;
                    g1 = v36 == NULL;
                    if (v36 == NULL) {
                        goto lab_0x1e64_3;
                    }
                    goto lab_0x1e58_3;
                }
                g20 = 0;
                g27 = v13;
                g28 = v14;
                g29 = v15;
                g30 = v16;
                g31 = v17;
                g32 = v18;
                g22 = v10;
                g23 = v11;
                ((int32_t (*)())v12)();
                v6 = g27;
                v9 = g21;
                v7 = g25;
                goto lab_0x1784_2;
            } else {
                a1 = g27;
                v19 = g30;
                v20 = v23;
                v2 = v22;
                continue;
            }
        }
    }
    g20 = 0;
    g26 = a5;
    g27 = a6;
    g28 = g10.e1;
    g29 = a8;
    g30 = g18.e1;
    ((int32_t (*)())a10)();
    v13 = g27;
    v14 = g28;
    v15 = g29;
    v16 = g30;
    v17 = g31;
    v18 = g32;
    v10 = g22;
    v11 = g23;
    v12 = g19;
    v4 = g20;
    g1 = v4 == 0;
    if (v4 == 0) {
    } else {
        v5 = g25;
        g1 = v5 == 0;
        g28 = v4;
        if (v5 == 0) {
            g20 = 0;
            g27 = v13;
            g28 = v14;
            g29 = v15;
            g30 = v16;
            g31 = v17;
            g32 = v18;
            g22 = v10;
            g23 = v11;
            ((int32_t (*)())v12)();
            v6 = g27;
            v9 = g21;
            v7 = 0;
            goto lab_0x1784_2;
        } else {
            g27 = 0;
            v6 = 0;
            v9 = g21;
            v7 = v5;
        }
      lab_0x1784_3:
        v3 = v6;
        _ZN8HwImgBuf6createEjjjjj();
        if (v9 < 2) {
            goto lab_if_17a4_0_true;
        }
        v8 = v9;
        goto lab_after_if_17a4_0;
    }
    g20 = 0;
    g27 = v13;
    g28 = v14;
    g29 = v15;
    g30 = v16;
    g31 = v17;
    g32 = v18;
    g22 = v10;
    g23 = v11;
    ((int32_t (*)())v12)();
    v6 = g27;
    v9 = g21;
    v7 = g25;
    goto lab_0x1784_3;
}

// Address range: 0x1f10 - 0x1f5f
int32_t function_1f10(struct struct_21 * a1, int32_t a2) {
    int32_t * v1 = (int32_t *)((int32_t)a1 + 8);
    g24 = *(int32_t *)(a1->e0 + 48);
    int32_t v2 = *v1 + 1;
    g27 = v2;
    *v1 = v2;
    g19 = 0x1f2c;
    ((int32_t (*)(int32_t))g24)(g20);
    return 0;
}

// Address range: 0x1f60 - 0x1f8f
struct struct_0 * function_1f60(struct struct_0 * result) {
    int32_t v1 = result->e0;
    g21 = v1;
    int32_t v2 = *(int32_t *)(v1 + 60);
    g26 = v2;
    g19 = 0x1f70;
    ((int32_t (*)(int32_t))v2)(g20);
    return result;
}

// Address range: 0x1f90 - 0x1fcf
int32_t function_1f90(int32_t a1, int32_t result, int32_t a3, int32_t a4, int32_t a5) {
    g1 = a1 == 0;
    if (a1 == 0) {
        return result;
    }
    int32_t v1 = *(int32_t *)a1;
    g21 = v1;
    int32_t v2 = *(int32_t *)(v1 + 4);
    g26 = v2;
    g19 = 0x1fa8;
    ((int32_t (*)())v2)();
    g26 = a5;
    int32_t v3;
    ((int32_t (*)())v3)();
    *(int32_t *)g21 = *(int32_t *)(g20 + 12);
    int32_t result2 = *(int32_t *)(g20 + 20);
    *(int32_t *)g25 = *(int32_t *)(g20 + 16);
    *(int32_t *)g26 = result2;
    return result2;
}

// Address range: 0x1fd0 - 0x1fd3
void function_1fd0(void) {
    return;
}

// Address range: 0x1fd4 - 0x1feb
// Demangled:     FBDevice::~FBDevice()
int32_t _ZN8FBDeviceD1Ev(int32_t ** a1) {
    *(int32_t *)a1 = (int32_t)"ii.hwcomposer" + 0x1fe8;
    return (int32_t)"ii.hwcomposer";
}

// Address range: 0x1fec - 0x2013
// Demangled:     FBDevice::~FBDevice()
int32_t _ZN8FBDeviceD0Ev(int32_t ** a1) {
    *(int32_t *)a1 = 0x4e38;
    _ZdlPv();
    return (int32_t)a1;
}

// Address range: 0x2014 - 0x203b
int32_t function_2014(int32_t * a1, int32_t a2) {
    *a1 = *(int32_t *)0x4f4c + 8;
    _ZdlPv();
    return (int32_t)a1;
}

// Address range: 0x203c - 0x2087
int32_t function_203c(int32_t a1, int32_t a2) {
    android_atomic_inc();
    return 0;
}

// Address range: 0x2088 - 0x2153
// Demangled:     FBDevice::FBDevice()
int32_t _ZN8FBDeviceC2Ev(struct struct_23 * a1) {
    int32_t result = (int32_t)a1;
    int32_t v1 = 0;
    a1->e1 = -1;
    *(int32_t *)result = 0x4e38;
    a1->e2 = v1;
    a1->e8 = v1;
    a1->e3 = 1;
    a1->e8 = v1;
    int32_t v2 = 0x43200000;
    a1->e13 = v1;
    a1->e5 = v2;
    a1->e6 = v2;
    a1->e7 = 0x42700000;
    a1->e14 = v1;
    a1->e15 = v1;
    a1->e16 = v1;
    a1->e17 = v1;
    a1->e18 = v1;
    a1->e9 = v1;
    a1->e11 = v1;
    a1->e10 = v1;
    a1->e12 = v1;
    memset((char *)(result + 16), g2, g17);
    memset((char *)(result + 176), g2, g12);
    memset((char *)(result + 332), g2, g8);
    memset((char *)(result + 300), g2, g8);
    g29 = g10.e1;
    return result;
}

// Address range: 0x2154 - 0x2187
// Demangled:     FBDevice::getFB(int &)
int32_t _ZN8FBDevice5getFBERi(int32_t a1, int32_t * a2) {
    int32_t * v1 = (int32_t *)(a1 + 276);
    *a2 = *v1;
    *v1 = (*v1 + 1) % 2;
    return *(int32_t *)(4 * *a2 + a1 + 268);
}

// Address range: 0x2188 - 0x23a7
// Demangled:     FBDevice::putFB(int)
int32_t _ZN8FBDevice5putFBEi(int32_t a1, int32_t a2) {
    int32_t v1 = g27;
    int32_t v2 = g29;
    int32_t v3 = g30;
    int32_t v4 = g32;
    g27 = a1;
    int32_t v5 = *(int32_t *)0x4f48;
    int32_t result = *(int32_t *)v5;
    g30 = 0x2e28;
    property_get();
    property_set();
    int32_t v6 = *(int32_t *)(g27 + 280);
    int32_t v7 = g27;
    int32_t * v8;
    struct struct__IO_FILE * file;
    int32_t v9;
    int32_t result2;
    int32_t tp;
    uint32_t v10;
    int32_t v11;
    int32_t v12;
    uint32_t v13;
    int32_t v14;
    int32_t v15;
    int32_t v16;
    int32_t v17;
    int32_t v18;
    int32_t v19;
    if (v6 != 0) {
        v10 = v6 - 1;
        if (v10 > 118) {
            *(int32_t *)(v7 + 280) = 0;
        } else {
            *(int32_t *)(v7 + 280) = v10;
            file = fopen("/data/hwcomposer.rgb", "ab");
            v12 = g27;
            v17 = *(int32_t *)(v12 + 40);
            v13 = *(int32_t *)(v12 + 20) * *(int32_t *)(v12 + 16) * v17;
            g30 = (int32_t)file;
            v18 = *(int32_t *)(v12 + 8);
            fwrite((char *)(v13 * a2 / 8 + v18), g3, v13 / 8, file);
            fclose((struct struct__IO_FILE *)g30);
        }
        gettimeofday(&tp, &g2);
        v11 = g27;
        v14 = tp;
        v9 = v14;
        v8 = (int32_t *)(v11 + 284);
        if (v14 == *(int32_t *)(v11 + 288)) {
            *v8 = *v8 + 1;
        } else {
            v9 = 3;
            g30 = *(int32_t *)(v11 + 304);
            g32 = *(int32_t *)(v11 + 324);
            __android_log_print();
            memset((char *)(g27 + 300), g2, g8);
            *(int32_t *)(g27 + 284) = 1;
            *(int32_t *)(g27 + 288) = tp;
        }
        v15 = g27;
        v19 = v15 + 4 * a2;
        g29 = v19;
        g19 = *(int32_t *)(v19 + 260);
        *(int32_t *)(v15 + 100) = 16;
        *(int32_t *)(g27 + 36) = g19;
        if (ioctl(*(int32_t *)(v15 + 4), 0x4601, (char *)(v15 + 16)) == -1) {
            v9 = 6;
            __android_log_print();
        }
        v16 = *(int32_t *)v5;
        if (result == v16) {
            g27 = v1;
            g29 = v2;
            g30 = v3;
            g32 = v4;
            return result;
        }
        __stack_chk_fail();
        if (result == v16) {
            result2 = 0;
        } else {
            result2 = v9;
        }
        return result2;
    }
    int32_t str;
    int32_t str_as_i = atoi((char *)&str);
    int32_t v20;
    if (str_as_i < 120) {
        *(int32_t *)(g27 + 280) = str_as_i;
        fclose(fopen("/data/hwcomposer.rgb", "wb"));
        v7 = g27;
        v10 = *(int32_t *)(g27 + 280) - 1;
        if (v10 <= 118) {
            *(int32_t *)(v7 + 280) = v10;
            file = fopen("/data/hwcomposer.rgb", "ab");
            v12 = g27;
            v17 = *(int32_t *)(v12 + 40);
            v13 = *(int32_t *)(v12 + 20) * *(int32_t *)(v12 + 16) * v17;
            g30 = (int32_t)file;
            v18 = *(int32_t *)(v12 + 8);
            fwrite((char *)(v13 * a2 / 8 + v18), g3, v13 / 8, file);
            fclose((struct struct__IO_FILE *)g30);
            gettimeofday(&tp, &g2);
            v11 = g27;
            v14 = tp;
            v9 = v14;
            v8 = (int32_t *)(v11 + 284);
            if (v14 == *(int32_t *)(v11 + 288)) {
                *v8 = *v8 + 1;
            } else {
                v9 = 3;
                g30 = *(int32_t *)(v11 + 304);
                g32 = *(int32_t *)(v11 + 324);
                __android_log_print();
                memset((char *)(g27 + 300), g2, g8);
                *(int32_t *)(g27 + 284) = 1;
                *(int32_t *)(g27 + 288) = tp;
            }
            v15 = g27;
            v19 = v15 + 4 * a2;
            g29 = v19;
            g19 = *(int32_t *)(v19 + 260);
            *(int32_t *)(v15 + 100) = 16;
            *(int32_t *)(g27 + 36) = g19;
            if (ioctl(*(int32_t *)(v15 + 4), 0x4601, (char *)(v15 + 16)) == -1) {
                v9 = 6;
                __android_log_print();
            }
            v16 = *(int32_t *)v5;
            if (result == v16) {
                g27 = v1;
                g29 = v2;
                g30 = v3;
                g32 = v4;
                return result;
            }
            __stack_chk_fail();
            if (result == v16) {
                result2 = 0;
            } else {
                result2 = v9;
            }
            return result2;
        }
        v20 = v7;
    } else {
        v20 = g27;
    }
    *(int32_t *)(v20 + 280) = 0;
    gettimeofday(&tp, &g2);
    v11 = g27;
    v14 = tp;
    v9 = v14;
    v8 = (int32_t *)(v11 + 284);
    if (v14 == *(int32_t *)(v11 + 288)) {
        *v8 = *v8 + 1;
    } else {
        v9 = 3;
        g30 = *(int32_t *)(v11 + 304);
        g32 = *(int32_t *)(v11 + 324);
        __android_log_print();
        memset((char *)(g27 + 300), g2, g8);
        *(int32_t *)(g27 + 284) = 1;
        *(int32_t *)(g27 + 288) = tp;
    }
    v15 = g27;
    v19 = v15 + 4 * a2;
    g29 = v19;
    g19 = *(int32_t *)(v19 + 260);
    *(int32_t *)(v15 + 100) = 16;
    *(int32_t *)(g27 + 36) = g19;
    if (ioctl(*(int32_t *)(v15 + 4), 0x4601, (char *)(v15 + 16)) == -1) {
        v9 = 6;
        __android_log_print();
    }
    v16 = *(int32_t *)v5;
    if (result == v16) {
        g27 = v1;
        g29 = v2;
        g30 = v3;
        g32 = v4;
        return result;
    }
    __stack_chk_fail();
    if (result == v16) {
        result2 = 0;
    } else {
        result2 = v9;
    }
    return result2;
}

// Address range: 0x23a8 - 0x2433
// Demangled:     FBDevice::vsync()
int32_t _ZN8FBDevice5vsyncEv(int32_t a1) {
    int32_t tp;
    gettimeofday(&tp, &g2);
    if (tp == *(int32_t *)(a1 + 296)) {
        int32_t * v1 = (int32_t *)(a1 + 292);
        *v1 = *v1 + 1;
    } else {
        g19 = 2764;
        __android_log_print();
        *(int32_t *)(a1 + 292) = 1;
        *(int32_t *)(a1 + 296) = tp;
    }
    int32_t fd = *(int32_t *)(a1 + 4);
    read(fd, NULL, 0);
    return fd;
}

// Address range: 0x2434 - 0x2bab
// Demangled:     FBDevice::init()
int32_t _ZN8FBDevice4initEv(int32_t a1, int32_t a2) {
    int32_t v1 = g27;
    int32_t v2 = g29;
    int32_t v3 = g30;
    int32_t v4 = g31;
    int32_t v5 = g32;
    int32_t v6 = g22;
    int32_t v7 = g23;
    g27 = a1;
    int32_t fd2 = *(int32_t *)(a1 + 4);
    int32_t v8 = *(int32_t *)0x4f48;
    g30 = v8;
    int32_t v9 = *(int32_t *)v8;
    int32_t v10;
    int32_t v11;
    if (fd2 == -1) {
        int32_t v12 = 0x4d90;
        char * format = "/dev/graphics/fb%u";
        while (true) {
            int32_t str;
            snprintf((char *)&str, g11, format);
            int32_t fd = open((char *)&str, g7);
            *(int32_t *)(g27 + 4) = fd;
            if (fd == -1) {
                int32_t v13 = v12 + 4;
                v12 = v13;
                int32_t v14 = *(int32_t *)v13;
                if (v14 == 0) {
                    break;
                }
                format = (char *)v14;
                continue;
            }
        }
        g24 = 1484;
        __android_log_print();
        __errno();
        v11 = g16;
        g20 = v11;
        g25 = v9;
        v10 = *(int32_t *)g30;
        g26 = v10;
        if (v9 != v10) {
            __stack_chk_fail();
            return g20;
        }
        g27 = v1;
        g29 = v2;
        g30 = v3;
        g31 = v4;
        g32 = v5;
        g22 = v6;
        g23 = v7;
        return -v11;
    }
    if (fd2 < 0) {
        g24 = 1484;
        __android_log_print();
        __errno();
        v11 = g16;
        g20 = v11;
        g25 = v9;
        v10 = *(int32_t *)g30;
        g26 = v10;
        if (v9 != v10) {
            __stack_chk_fail();
            return g20;
        }
        g27 = v1;
        g29 = v2;
        g30 = v3;
        g31 = v4;
        g32 = v5;
        g22 = v6;
        g23 = v7;
        return -v11;
    }
    if (ioctl(fd2, 0x4602, (char *)(g27 + 176)) < -1) {
        g19 = 1252;
        g20 = 6;
        __android_log_print();
        __errno();
        g25 = v9;
        v10 = *(int32_t *)g30;
        g26 = v10;
        if (v9 != v10) {
            __stack_chk_fail();
            return g20;
        }
        g27 = v1;
        g29 = v2;
        g30 = v3;
        g31 = v4;
        g32 = v5;
        g22 = v6;
        g23 = v7;
        return -g16;
    }
    int32_t v15 = g27;
    int32_t v16 = v15 + 16;
    g29 = v16;
    if (ioctl(*(int32_t *)(v15 + 4), 0x4600, (char *)v16) < -1) {
        g24 = 1188;
        __android_log_print();
        __errno();
        g20 = g16;
        g25 = v9;
        v10 = *(int32_t *)g30;
        g26 = v10;
        if (v9 != v10) {
            __stack_chk_fail();
            return g20;
        }
        g27 = v1;
        g29 = v2;
        g30 = v3;
        g31 = v4;
        g32 = v5;
        g22 = v6;
        g23 = v7;
        return -g16;
    }
    int32_t v17 = g27;
    if (*(int32_t *)(v17 + 196) == 0) {
        g19 = 1708;
        g20 = 6;
        __android_log_print();
        __errno();
        g25 = v9;
        v10 = *(int32_t *)g30;
        g26 = v10;
        if (v9 != v10) {
            __stack_chk_fail();
            return g20;
        }
        g27 = v1;
        g29 = v2;
        g30 = v3;
        g31 = v4;
        g32 = v5;
        g22 = v6;
        g23 = v7;
        return -g16;
    }
    g19 = *(int32_t *)(v17 + 20);
    int32_t v18 = 0;
    *(int32_t *)(v17 + 160) = 0;
    *(int32_t *)(g27 + 164) = v18;
    *(int32_t *)(g27 + 168) = v18;
    *(int32_t *)(g27 + 32) = v18;
    *(int32_t *)(g27 + 36) = v18;
    *(int32_t *)(g27 + 100) = v18;
    *(int32_t *)(g27 + 28) = 2 * g19;
    int32_t v19 = ioctl(*(int32_t *)(v17 + 4), 0x4601, (char *)g29);
    int32_t v20 = g27;
    int32_t v21 = *(int32_t *)(v20 + 20);
    if (v19 < -1) {
        g24 = v21;
        g20 = 6;
        *(int32_t *)(v20 + 28) = v21;
        __android_log_print();
        g25 = v9;
        v10 = *(int32_t *)g30;
        g26 = v10;
        if (v9 != v10) {
            __stack_chk_fail();
            return g20;
        }
        g27 = v1;
        g29 = v2;
        g30 = v3;
        g31 = v4;
        g32 = v5;
        g22 = v6;
        g23 = v7;
        return -1;
    }
    int32_t * v22 = (int32_t *)(v20 + 28);
    int32_t v23 = 2 * v21;
    g24 = v23;
    if (*v22 < v23) {
        *v22 = v21;
        g19 = 1044;
        g20 = 6;
        __android_log_print();
        g25 = v9;
        v10 = *(int32_t *)g30;
        g26 = v10;
        if (v9 != v10) {
            __stack_chk_fail();
            return g20;
        }
        g27 = v1;
        g29 = v2;
        g30 = v3;
        g31 = v4;
        g32 = v5;
        g22 = v6;
        g23 = v7;
        return -1;
    }
    if (ioctl(*(int32_t *)(v20 + 4), 0x4600, (char *)g29) < -1) {
        g24 = 996;
        g20 = 6;
        __android_log_print();
        __errno();
        g25 = v9;
        v10 = *(int32_t *)g30;
        g26 = v10;
        if (v9 != v10) {
            __stack_chk_fail();
            return g20;
        }
        g27 = v1;
        g29 = v2;
        g30 = v3;
        g31 = v4;
        g32 = v5;
        g22 = v6;
        g23 = v7;
        return -g16;
    }
    int32_t v24 = g27;
    int32_t v25 = *(int32_t *)(v24 + 128);
    int32_t v26 = *(int32_t *)(v24 + 124);
    int32_t v27 = *(int32_t *)(v24 + 132);
    int32_t v28 = *(int32_t *)(v24 + 120);
    int32_t v29 = *(int32_t *)(v24 + 20);
    int32_t v30 = *(int32_t *)(v24 + 16);
    uint32_t v31 = *(int32_t *)(v24 + 116);
    uint64_t v32 = (int64_t)(v30 + v28 + v26) * (int64_t)(v29 + v27 + v25);
    uint64_t v33 = (v32 & 0xffffffff) * (int64_t)v31;
    if ((int32_t)v33 != (int32_t)(v33 / 0x100000000) + (int32_t)(v32 / 0x100000000) * v31) {
        __aeabi_uldivmod();
        v24 = g27;
    }
    int32_t v34;
    char * v35;
    int32_t v36;
    char * v37;
    char * v38;
    int32_t v39;
    int32_t v40;
    int32_t v41;
    int32_t v42;
    int32_t v43;
    int32_t v44;
    int32_t v45;
    int32_t v46;
    int32_t v47;
    int32_t v48;
    int32_t v49;
    int32_t v50;
    int32_t v51;
    int32_t v52;
    int32_t v53;
    int32_t v54;
    int32_t v55;
    int32_t v56;
    int32_t v57;
    int32_t v58;
    int32_t v59;
    int32_t v60;
    int32_t v61;
    int32_t v62;
    int32_t v63;
    int32_t v64;
    int32_t v65;
    int32_t v66;
    int32_t v67;
    int32_t v68;
    int32_t v69;
    int32_t v70;
    if (*(int32_t *)(v24 + 108) < 1) {
        if (*(int32_t *)(v24 + 104) <= 0) {
            g22 = *(int32_t *)(v24 + 28);
            g32 = *(int32_t *)(v24 + 40);
            g23 = *(int32_t *)(v24 + 48);
            g19 = *(int32_t *)(v24 + 72);
            __android_log_print();
            v43 = g27;
            v52 = *(int32_t *)(v43 + 40);
            v18 = v52;
            v39 = v52;
            if (*(int32_t *)(v43 + 152) == 180) {
                *(char *)(v43 + 257) = 1;
                *(char *)(g27 + 256) = (char)1;
                v39 = v18;
            }
            if (v39 == 16) {
                v18 = 5;
                *(int32_t *)(g27 + 12) = 5;
                v44 = g27;
                v53 = *(int32_t *)(v44 + 196);
                g29 = v53;
                v54 = *(int32_t *)(v44 + 4);
                g24 = v54;
                v35 = mmap(NULL, v53, g9, g3, v54, g2);
                g31 = (int32_t)v35;
                if (v35 == (char *)-1) {
                    __errno();
                    strerror(*(int32_t *)-1);
                    __android_log_print();
                    __errno();
                    v69 = g16;
                    g20 = v69;
                } else {
                    v38 = (char *)0;
                    v36 = ioctl(*(int32_t *)(g27 + 4), -0x7ffbb97f, &v38);
                    if (v36 > -1) {
                        v18 = (int32_t)v38;
                    }
                    if (v36 < 0) {
                        __android_log_print();
                        v68 = *(int32_t *)(g27 + 192);
                        v38 = (char *)v68;
                        v40 = v68;
                    } else {
                        v40 = v18;
                    }
                    g1 = v40 == 0;
                    if (v40 == 0) {
                        __android_log_print();
                        v50 = g27;
                        v38 = (char *)*(int32_t *)(v50 + 192);
                        v45 = v50;
                    } else {
                        v45 = g27;
                    }
                    *(int32_t *)(v45 + 8) = g31;
                    memset((char *)g31, g2, g29);
                    rtos_add_mapping();
                    v46 = g27;
                    g31 = 0;
                    v55 = *(int32_t *)(v46 + 16);
                    g22 = v46;
                    v56 = *(int32_t *)(v46 + 40);
                    v70 = *(int32_t *)0x4f50;
                    v57 = g30;
                    g23 = 0;
                    g32 = *(int32_t *)(v46 + 8);
                    g30 = v46;
                    v42 = v55 * *(int32_t *)(v46 + 20) * v56 / 8 + 4095 & 0x3ffff000;
                    while (true) {
                        g29 = 0;
                        v37 = _Znwj(g6);
                        g24 = v70;
                        v34 = (int32_t)v37;
                        g27 = v34;
                        g20 = 0;
                        *(int32_t *)(v34 + 12) = g29 + (int32_t)v38;
                        *(int32_t *)(g27 + 4) = 1;
                        *(int32_t *)g27 = v70 + 8;
                        *(int32_t *)(g27 + 20) = v42;
                        *(int32_t *)(g27 + 8) = g23;
                        *(int32_t *)(g27 + 16) = g32;
                        _ZN8HwImgBuf6createEjjjjj();
                        g21 = g27;
                        v58 = g2;
                        g26 = v58;
                        g28 = g20;
                        v59 = *(int32_t *)(v58 + 12);
                        g25 = v59;
                        g19 = 0x2808;
                        ((int32_t (*)())v59)();
                        v60 = g2;
                        g24 = v60;
                        v47 = g30;
                        g21 = *(int32_t *)(v47 + 16);
                        g20 = g28;
                        g25 = *(int32_t *)(v47 + 20);
                        v61 = *(int32_t *)(v60 + 20);
                        g26 = v61;
                        g19 = 0x2820;
                        ((int32_t (*)())v61)();
                        g21 = *(int32_t *)(g30 + 12);
                        g25 = 1;
                        g26 = 3;
                        g20 = g28;
                        v62 = *(int32_t *)(g2 + 28);
                        g24 = v62;
                        g19 = 0x283c;
                        ((int32_t (*)())v62)();
                        *(int32_t *)(g22 + 268) = g28;
                        v63 = *(int32_t *)(g30 + 20);
                        g21 = v63;
                        g20 = g27;
                        v48 = g31;
                        v51 = v48 * v63;
                        g25 = v51;
                        g31 = v48 + 1;
                        *(int32_t *)(g22 + 260) = v51;
                        g22 += 4;
                        v64 = *(int32_t *)g27;
                        g24 = v64;
                        v65 = *(int32_t *)(v64 + 12);
                        g26 = v65;
                        g19 = 0x2864;
                        ((int32_t (*)())v65)();
                        v41 = g31;
                        g1 = v41 == 2;
                        if (v41 != 2) {
                            goto lab_0x286c_7;
                        }
                        g30 = v57;
                    }
                }
                g25 = v9;
                v10 = *(int32_t *)g30;
                g26 = v10;
                if (v9 != v10) {
                    __stack_chk_fail();
                    return g20;
                }
                g27 = v1;
                g29 = v2;
                g30 = v3;
                g31 = v4;
                g32 = v5;
                g22 = v6;
                g23 = v7;
                return -v69;
            }
            if (v39 == 32) {
                v49 = g27;
                v66 = *(int32_t *)(v49 + 48);
                v18 = v66;
                if (v66 == 0) {
                    if (*(int32_t *)(v49 + 60) == 8) {
                        v67 = *(int32_t *)(v49 + 72);
                        v18 = v67;
                        if (v67 == 16) {
                            g19 = 1;
                            *(int32_t *)(v49 + 12) = 1;
                            v44 = g27;
                            v53 = *(int32_t *)(v44 + 196);
                            g29 = v53;
                            v54 = *(int32_t *)(v44 + 4);
                            g24 = v54;
                            v35 = mmap(NULL, v53, g9, g3, v54, g2);
                            g31 = (int32_t)v35;
                            if (v35 == (char *)-1) {
                                __errno();
                                strerror(*(int32_t *)-1);
                                __android_log_print();
                                __errno();
                                v69 = g16;
                                g20 = v69;
                            } else {
                                v38 = (char *)0;
                                v36 = ioctl(*(int32_t *)(g27 + 4), -0x7ffbb97f, &v38);
                                if (v36 > -1) {
                                    v18 = (int32_t)v38;
                                }
                                if (v36 < 0) {
                                    __android_log_print();
                                    v68 = *(int32_t *)(g27 + 192);
                                    v38 = (char *)v68;
                                    v40 = v68;
                                } else {
                                    v40 = v18;
                                }
                                g1 = v40 == 0;
                                if (v40 == 0) {
                                    __android_log_print();
                                    v50 = g27;
                                    v38 = (char *)*(int32_t *)(v50 + 192);
                                    v45 = v50;
                                } else {
                                    v45 = g27;
                                }
                                *(int32_t *)(v45 + 8) = g31;
                                memset((char *)g31, g2, g29);
                                rtos_add_mapping();
                                v46 = g27;
                                g31 = 0;
                                v55 = *(int32_t *)(v46 + 16);
                                g22 = v46;
                                v56 = *(int32_t *)(v46 + 40);
                                int32_t v71 = *(int32_t *)(v46 + 8);
                                v70 = *(int32_t *)0x4f50;
                                g23 = 0;
                                g32 = v71;
                                g30 = v46;
                                v42 = v55 * *(int32_t *)(v46 + 20) * v56 / 8 + 4095 & 0x3ffff000;
                                int32_t v72 = v71;
                                while (true) {
                                    g29 = v71 - v72;
                                    v37 = _Znwj(g6);
                                    g24 = v70;
                                    v34 = (int32_t)v37;
                                    g27 = v34;
                                    g20 = 0;
                                    *(int32_t *)(v34 + 12) = g29 + (int32_t)v38;
                                    *(int32_t *)(g27 + 4) = 1;
                                    *(int32_t *)g27 = v70 + 8;
                                    *(int32_t *)(g27 + 20) = v42;
                                    *(int32_t *)(g27 + 8) = g23;
                                    *(int32_t *)(g27 + 16) = g32;
                                    _ZN8HwImgBuf6createEjjjjj();
                                    g21 = g27;
                                    v58 = g2;
                                    g26 = v58;
                                    g28 = g20;
                                    v59 = *(int32_t *)(v58 + 12);
                                    g25 = v59;
                                    g19 = 0x2808;
                                    ((int32_t (*)())v59)();
                                    v60 = g2;
                                    g24 = v60;
                                    v47 = g30;
                                    g21 = *(int32_t *)(v47 + 16);
                                    g20 = g28;
                                    g25 = *(int32_t *)(v47 + 20);
                                    v61 = *(int32_t *)(v60 + 20);
                                    g26 = v61;
                                    g19 = 0x2820;
                                    ((int32_t (*)())v61)();
                                    g21 = *(int32_t *)(g30 + 12);
                                    g25 = 1;
                                    g26 = 3;
                                    g20 = g28;
                                    v62 = *(int32_t *)(g2 + 28);
                                    g24 = v62;
                                    g19 = 0x283c;
                                    ((int32_t (*)())v62)();
                                    *(int32_t *)(g22 + 268) = g28;
                                    v63 = *(int32_t *)(g30 + 20);
                                    g21 = v63;
                                    g20 = g27;
                                    v48 = g31;
                                    v51 = v48 * v63;
                                    g25 = v51;
                                    g31 = v48 + 1;
                                    *(int32_t *)(g22 + 260) = v51;
                                    g22 += 4;
                                    v64 = *(int32_t *)g27;
                                    g24 = v64;
                                    v65 = *(int32_t *)(v64 + 12);
                                    g26 = v65;
                                    g19 = 0x2864;
                                    ((int32_t (*)())v65)();
                                    v41 = g31;
                                    g1 = v41 == 2;
                                    if (v41 == 2) {
                                        g25 = v9;
                                        v10 = *(int32_t *)g30;
                                        g26 = v10;
                                        if (v9 != v10) {
                                            __stack_chk_fail();
                                            return g20;
                                        }
                                        g27 = v1;
                                        g29 = v2;
                                        g30 = v3;
                                        g31 = v4;
                                        g32 = v5;
                                        g22 = v6;
                                        g23 = v7;
                                        return 0;
                                    }
                                  lab_0x286c_7:;
                                    int32_t v73 = g32 + v42;
                                    g32 = v73;
                                    v72 = *(int32_t *)(g30 + 8);
                                    v71 = v73;
                                }
                            }
                            g25 = v9;
                            v10 = *(int32_t *)g30;
                            g26 = v10;
                            if (v9 != v10) {
                                __stack_chk_fail();
                                return g20;
                            }
                            g27 = v1;
                            g29 = v2;
                            g30 = v3;
                            g31 = v4;
                            g32 = v5;
                            g22 = v6;
                            g23 = v7;
                            return -v69;
                        }
                    }
                } else {
                    if (v66 == 16) {
                        if (*(int32_t *)(v49 + 60) == 8) {
                            if (*(int32_t *)(v49 + 72) == 0) {
                                *(int32_t *)(v49 + 12) = 2;
                                v44 = g27;
                                v53 = *(int32_t *)(v44 + 196);
                                g29 = v53;
                                v54 = *(int32_t *)(v44 + 4);
                                g24 = v54;
                                v35 = mmap(NULL, v53, g9, g3, v54, g2);
                                g31 = (int32_t)v35;
                                if (v35 == (char *)-1) {
                                    __errno();
                                    strerror(*(int32_t *)-1);
                                    __android_log_print();
                                    __errno();
                                    v69 = g16;
                                    g20 = v69;
                                } else {
                                    v38 = (char *)0;
                                    v36 = ioctl(*(int32_t *)(g27 + 4), -0x7ffbb97f, &v38);
                                    if (v36 > -1) {
                                        v18 = (int32_t)v38;
                                    }
                                    if (v36 < 0) {
                                        __android_log_print();
                                        v68 = *(int32_t *)(g27 + 192);
                                        v38 = (char *)v68;
                                        v40 = v68;
                                    } else {
                                        v40 = v18;
                                    }
                                    g1 = v40 == 0;
                                    if (v40 == 0) {
                                        __android_log_print();
                                        v50 = g27;
                                        v38 = (char *)*(int32_t *)(v50 + 192);
                                        v45 = v50;
                                    } else {
                                        v45 = g27;
                                    }
                                    *(int32_t *)(v45 + 8) = g31;
                                    memset((char *)g31, g2, g29);
                                    rtos_add_mapping();
                                    v46 = g27;
                                    g31 = 0;
                                    v55 = *(int32_t *)(v46 + 16);
                                    g22 = v46;
                                    v56 = *(int32_t *)(v46 + 40);
                                    v70 = *(int32_t *)0x4f50;
                                    v57 = g30;
                                    g23 = 0;
                                    g32 = *(int32_t *)(v46 + 8);
                                    g30 = v46;
                                    v42 = v55 * *(int32_t *)(v46 + 20) * v56 / 8 + 4095 & 0x3ffff000;
                                    while (true) {
                                        g29 = 0;
                                        v37 = _Znwj(g6);
                                        g24 = v70;
                                        v34 = (int32_t)v37;
                                        g27 = v34;
                                        g20 = 0;
                                        *(int32_t *)(v34 + 12) = g29 + (int32_t)v38;
                                        *(int32_t *)(g27 + 4) = 1;
                                        *(int32_t *)g27 = v70 + 8;
                                        *(int32_t *)(g27 + 20) = v42;
                                        *(int32_t *)(g27 + 8) = g23;
                                        *(int32_t *)(g27 + 16) = g32;
                                        _ZN8HwImgBuf6createEjjjjj();
                                        g21 = g27;
                                        v58 = g2;
                                        g26 = v58;
                                        g28 = g20;
                                        v59 = *(int32_t *)(v58 + 12);
                                        g25 = v59;
                                        g19 = 0x2808;
                                        ((int32_t (*)())v59)();
                                        v60 = g2;
                                        g24 = v60;
                                        v47 = g30;
                                        g21 = *(int32_t *)(v47 + 16);
                                        g20 = g28;
                                        g25 = *(int32_t *)(v47 + 20);
                                        v61 = *(int32_t *)(v60 + 20);
                                        g26 = v61;
                                        g19 = 0x2820;
                                        ((int32_t (*)())v61)();
                                        g21 = *(int32_t *)(g30 + 12);
                                        g25 = 1;
                                        g26 = 3;
                                        g20 = g28;
                                        v62 = *(int32_t *)(g2 + 28);
                                        g24 = v62;
                                        g19 = 0x283c;
                                        ((int32_t (*)())v62)();
                                        *(int32_t *)(g22 + 268) = g28;
                                        v63 = *(int32_t *)(g30 + 20);
                                        g21 = v63;
                                        g20 = g27;
                                        v48 = g31;
                                        v51 = v48 * v63;
                                        g25 = v51;
                                        g31 = v48 + 1;
                                        *(int32_t *)(g22 + 260) = v51;
                                        g22 += 4;
                                        v64 = *(int32_t *)g27;
                                        g24 = v64;
                                        v65 = *(int32_t *)(v64 + 12);
                                        g26 = v65;
                                        g19 = 0x2864;
                                        ((int32_t (*)())v65)();
                                        v41 = g31;
                                        g1 = v41 == 2;
                                        if (v41 != 2) {
                                            goto lab_0x286c_7;
                                        }
                                        g30 = v57;
                                    }
                                }
                                g25 = v9;
                                v10 = *(int32_t *)g30;
                                g26 = v10;
                                if (v9 != v10) {
                                    __stack_chk_fail();
                                    return g20;
                                }
                                g27 = v1;
                                g29 = v2;
                                g30 = v3;
                                g31 = v4;
                                g32 = v5;
                                g22 = v6;
                                g23 = v7;
                                return -v69;
                            }
                        }
                    }
                }
                __android_log_print();
                g19 = 1;
                *(int32_t *)(g27 + 12) = 1;
            } else {
                __android_log_print();
            }
            v44 = g27;
            v53 = *(int32_t *)(v44 + 196);
            g29 = v53;
            v54 = *(int32_t *)(v44 + 4);
            g24 = v54;
            v35 = mmap(NULL, v53, g9, g3, v54, g2);
            g31 = (int32_t)v35;
            if (v35 == (char *)-1) {
                __errno();
                strerror(*(int32_t *)-1);
                __android_log_print();
                __errno();
                v69 = g16;
                g20 = v69;
            } else {
                v38 = (char *)0;
                v36 = ioctl(*(int32_t *)(g27 + 4), -0x7ffbb97f, &v38);
                if (v36 > -1) {
                    v18 = (int32_t)v38;
                }
                if (v36 < 0) {
                    __android_log_print();
                    v68 = *(int32_t *)(g27 + 192);
                    v38 = (char *)v68;
                    v40 = v68;
                } else {
                    v40 = v18;
                }
                g1 = v40 == 0;
                if (v40 == 0) {
                    __android_log_print();
                    v50 = g27;
                    v38 = (char *)*(int32_t *)(v50 + 192);
                    v45 = v50;
                } else {
                    v45 = g27;
                }
                *(int32_t *)(v45 + 8) = g31;
                memset((char *)g31, g2, g29);
                rtos_add_mapping();
                v46 = g27;
                g31 = 0;
                v55 = *(int32_t *)(v46 + 16);
                g22 = v46;
                v56 = *(int32_t *)(v46 + 40);
                v70 = *(int32_t *)0x4f50;
                v57 = g30;
                g23 = 0;
                g32 = *(int32_t *)(v46 + 8);
                g30 = v46;
                v42 = v55 * *(int32_t *)(v46 + 20) * v56 / 8 + 4095 & 0x3ffff000;
                while (true) {
                    g29 = 0;
                    v37 = _Znwj(g6);
                    g24 = v70;
                    v34 = (int32_t)v37;
                    g27 = v34;
                    g20 = 0;
                    *(int32_t *)(v34 + 12) = g29 + (int32_t)v38;
                    *(int32_t *)(g27 + 4) = 1;
                    *(int32_t *)g27 = v70 + 8;
                    *(int32_t *)(g27 + 20) = v42;
                    *(int32_t *)(g27 + 8) = g23;
                    *(int32_t *)(g27 + 16) = g32;
                    _ZN8HwImgBuf6createEjjjjj();
                    g21 = g27;
                    v58 = g2;
                    g26 = v58;
                    g28 = g20;
                    v59 = *(int32_t *)(v58 + 12);
                    g25 = v59;
                    g19 = 0x2808;
                    ((int32_t (*)())v59)();
                    v60 = g2;
                    g24 = v60;
                    v47 = g30;
                    g21 = *(int32_t *)(v47 + 16);
                    g20 = g28;
                    g25 = *(int32_t *)(v47 + 20);
                    v61 = *(int32_t *)(v60 + 20);
                    g26 = v61;
                    g19 = 0x2820;
                    ((int32_t (*)())v61)();
                    g21 = *(int32_t *)(g30 + 12);
                    g25 = 1;
                    g26 = 3;
                    g20 = g28;
                    v62 = *(int32_t *)(g2 + 28);
                    g24 = v62;
                    g19 = 0x283c;
                    ((int32_t (*)())v62)();
                    *(int32_t *)(g22 + 268) = g28;
                    v63 = *(int32_t *)(g30 + 20);
                    g21 = v63;
                    g20 = g27;
                    v48 = g31;
                    v51 = v48 * v63;
                    g25 = v51;
                    g31 = v48 + 1;
                    *(int32_t *)(g22 + 260) = v51;
                    g22 += 4;
                    v64 = *(int32_t *)g27;
                    g24 = v64;
                    v65 = *(int32_t *)(v64 + 12);
                    g26 = v65;
                    g19 = 0x2864;
                    ((int32_t (*)())v65)();
                    v41 = g31;
                    g1 = v41 == 2;
                    if (v41 != 2) {
                        goto lab_0x286c_7;
                    }
                    g30 = v57;
                }
            }
            g25 = v9;
            v10 = *(int32_t *)g30;
            g26 = v10;
            if (v9 != v10) {
                __stack_chk_fail();
                return g20;
            }
            g27 = v1;
            g29 = v2;
            g30 = v3;
            g31 = v4;
            g32 = v5;
            g22 = v6;
            g23 = v7;
            return -v69;
        }
    }
    g22 = *(int32_t *)(v24 + 28);
    g32 = *(int32_t *)(v24 + 40);
    g23 = *(int32_t *)(v24 + 48);
    g19 = *(int32_t *)(v24 + 72);
    __android_log_print();
    v43 = g27;
    v52 = *(int32_t *)(v43 + 40);
    v18 = v52;
    v39 = v52;
    if (*(int32_t *)(v43 + 152) == 180) {
        *(char *)(v43 + 257) = 1;
        *(char *)(g27 + 256) = (char)1;
        v39 = v18;
    }
    if (v39 == 16) {
        v18 = 5;
        *(int32_t *)(g27 + 12) = 5;
        v44 = g27;
        v53 = *(int32_t *)(v44 + 196);
        g29 = v53;
        v54 = *(int32_t *)(v44 + 4);
        g24 = v54;
        v35 = mmap(NULL, v53, g9, g3, v54, g2);
        g31 = (int32_t)v35;
        if (v35 == (char *)-1) {
            __errno();
            strerror(*(int32_t *)-1);
            __android_log_print();
            __errno();
            v69 = g16;
            g20 = v69;
        } else {
            v38 = (char *)0;
            v36 = ioctl(*(int32_t *)(g27 + 4), -0x7ffbb97f, &v38);
            if (v36 > -1) {
                v18 = (int32_t)v38;
            }
            if (v36 < 0) {
                __android_log_print();
                v68 = *(int32_t *)(g27 + 192);
                v38 = (char *)v68;
                v40 = v68;
            } else {
                v40 = v18;
            }
            g1 = v40 == 0;
            if (v40 == 0) {
                __android_log_print();
                v50 = g27;
                v38 = (char *)*(int32_t *)(v50 + 192);
                v45 = v50;
            } else {
                v45 = g27;
            }
            *(int32_t *)(v45 + 8) = g31;
            memset((char *)g31, g2, g29);
            rtos_add_mapping();
            v46 = g27;
            g31 = 0;
            v55 = *(int32_t *)(v46 + 16);
            g22 = v46;
            v56 = *(int32_t *)(v46 + 40);
            v70 = *(int32_t *)0x4f50;
            v57 = g30;
            g23 = 0;
            g32 = *(int32_t *)(v46 + 8);
            g30 = v46;
            v42 = v55 * *(int32_t *)(v46 + 20) * v56 / 8 + 4095 & 0x3ffff000;
            while (true) {
                g29 = 0;
                v37 = _Znwj(g6);
                g24 = v70;
                v34 = (int32_t)v37;
                g27 = v34;
                g20 = 0;
                *(int32_t *)(v34 + 12) = g29 + (int32_t)v38;
                *(int32_t *)(g27 + 4) = 1;
                *(int32_t *)g27 = v70 + 8;
                *(int32_t *)(g27 + 20) = v42;
                *(int32_t *)(g27 + 8) = g23;
                *(int32_t *)(g27 + 16) = g32;
                _ZN8HwImgBuf6createEjjjjj();
                g21 = g27;
                v58 = g2;
                g26 = v58;
                g28 = g20;
                v59 = *(int32_t *)(v58 + 12);
                g25 = v59;
                g19 = 0x2808;
                ((int32_t (*)())v59)();
                v60 = g2;
                g24 = v60;
                v47 = g30;
                g21 = *(int32_t *)(v47 + 16);
                g20 = g28;
                g25 = *(int32_t *)(v47 + 20);
                v61 = *(int32_t *)(v60 + 20);
                g26 = v61;
                g19 = 0x2820;
                ((int32_t (*)())v61)();
                g21 = *(int32_t *)(g30 + 12);
                g25 = 1;
                g26 = 3;
                g20 = g28;
                v62 = *(int32_t *)(g2 + 28);
                g24 = v62;
                g19 = 0x283c;
                ((int32_t (*)())v62)();
                *(int32_t *)(g22 + 268) = g28;
                v63 = *(int32_t *)(g30 + 20);
                g21 = v63;
                g20 = g27;
                v48 = g31;
                v51 = v48 * v63;
                g25 = v51;
                g31 = v48 + 1;
                *(int32_t *)(g22 + 260) = v51;
                g22 += 4;
                v64 = *(int32_t *)g27;
                g24 = v64;
                v65 = *(int32_t *)(v64 + 12);
                g26 = v65;
                g19 = 0x2864;
                ((int32_t (*)())v65)();
                v41 = g31;
                g1 = v41 == 2;
                if (v41 != 2) {
                    goto lab_0x286c_7;
                }
                g30 = v57;
            }
        }
        g25 = v9;
        v10 = *(int32_t *)g30;
        g26 = v10;
        if (v9 != v10) {
            __stack_chk_fail();
            return g20;
        }
        g27 = v1;
        g29 = v2;
        g30 = v3;
        g31 = v4;
        g32 = v5;
        g22 = v6;
        g23 = v7;
        return -v69;
    }
    if (v39 == 32) {
        v49 = g27;
        v66 = *(int32_t *)(v49 + 48);
        v18 = v66;
        if (v66 == 0) {
            if (*(int32_t *)(v49 + 60) == 8) {
                v67 = *(int32_t *)(v49 + 72);
                v18 = v67;
                if (v67 == 16) {
                    g19 = 1;
                    *(int32_t *)(v49 + 12) = 1;
                    v44 = g27;
                    v53 = *(int32_t *)(v44 + 196);
                    g29 = v53;
                    v54 = *(int32_t *)(v44 + 4);
                    g24 = v54;
                    v35 = mmap(NULL, v53, g9, g3, v54, g2);
                    g31 = (int32_t)v35;
                    if (v35 == (char *)-1) {
                        __errno();
                        strerror(*(int32_t *)-1);
                        __android_log_print();
                        __errno();
                        v69 = g16;
                        g20 = v69;
                    } else {
                        v38 = (char *)0;
                        v36 = ioctl(*(int32_t *)(g27 + 4), -0x7ffbb97f, &v38);
                        if (v36 > -1) {
                            v18 = (int32_t)v38;
                        }
                        if (v36 < 0) {
                            __android_log_print();
                            v68 = *(int32_t *)(g27 + 192);
                            v38 = (char *)v68;
                            v40 = v68;
                        } else {
                            v40 = v18;
                        }
                        g1 = v40 == 0;
                        if (v40 == 0) {
                            __android_log_print();
                            v50 = g27;
                            v38 = (char *)*(int32_t *)(v50 + 192);
                            v45 = v50;
                        } else {
                            v45 = g27;
                        }
                        *(int32_t *)(v45 + 8) = g31;
                        memset((char *)g31, g2, g29);
                        rtos_add_mapping();
                        v46 = g27;
                        g31 = 0;
                        v55 = *(int32_t *)(v46 + 16);
                        g22 = v46;
                        v56 = *(int32_t *)(v46 + 40);
                        v70 = *(int32_t *)0x4f50;
                        v57 = g30;
                        g23 = 0;
                        g32 = *(int32_t *)(v46 + 8);
                        g30 = v46;
                        v42 = v55 * *(int32_t *)(v46 + 20) * v56 / 8 + 4095 & 0x3ffff000;
                        while (true) {
                            g29 = 0;
                            v37 = _Znwj(g6);
                            g24 = v70;
                            v34 = (int32_t)v37;
                            g27 = v34;
                            g20 = 0;
                            *(int32_t *)(v34 + 12) = g29 + (int32_t)v38;
                            *(int32_t *)(g27 + 4) = 1;
                            *(int32_t *)g27 = v70 + 8;
                            *(int32_t *)(g27 + 20) = v42;
                            *(int32_t *)(g27 + 8) = g23;
                            *(int32_t *)(g27 + 16) = g32;
                            _ZN8HwImgBuf6createEjjjjj();
                            g21 = g27;
                            v58 = g2;
                            g26 = v58;
                            g28 = g20;
                            v59 = *(int32_t *)(v58 + 12);
                            g25 = v59;
                            g19 = 0x2808;
                            ((int32_t (*)())v59)();
                            v60 = g2;
                            g24 = v60;
                            v47 = g30;
                            g21 = *(int32_t *)(v47 + 16);
                            g20 = g28;
                            g25 = *(int32_t *)(v47 + 20);
                            v61 = *(int32_t *)(v60 + 20);
                            g26 = v61;
                            g19 = 0x2820;
                            ((int32_t (*)())v61)();
                            g21 = *(int32_t *)(g30 + 12);
                            g25 = 1;
                            g26 = 3;
                            g20 = g28;
                            v62 = *(int32_t *)(g2 + 28);
                            g24 = v62;
                            g19 = 0x283c;
                            ((int32_t (*)())v62)();
                            *(int32_t *)(g22 + 268) = g28;
                            v63 = *(int32_t *)(g30 + 20);
                            g21 = v63;
                            g20 = g27;
                            v48 = g31;
                            v51 = v48 * v63;
                            g25 = v51;
                            g31 = v48 + 1;
                            *(int32_t *)(g22 + 260) = v51;
                            g22 += 4;
                            v64 = *(int32_t *)g27;
                            g24 = v64;
                            v65 = *(int32_t *)(v64 + 12);
                            g26 = v65;
                            g19 = 0x2864;
                            ((int32_t (*)())v65)();
                            v41 = g31;
                            g1 = v41 == 2;
                            if (v41 != 2) {
                                goto lab_0x286c_7;
                            }
                            g30 = v57;
                        }
                    }
                    g25 = v9;
                    v10 = *(int32_t *)g30;
                    g26 = v10;
                    if (v9 != v10) {
                        __stack_chk_fail();
                        return g20;
                    }
                    g27 = v1;
                    g29 = v2;
                    g30 = v3;
                    g31 = v4;
                    g32 = v5;
                    g22 = v6;
                    g23 = v7;
                    return -v69;
                }
            }
        } else {
            if (v66 == 16) {
                if (*(int32_t *)(v49 + 60) == 8) {
                    if (*(int32_t *)(v49 + 72) == 0) {
                        *(int32_t *)(v49 + 12) = 2;
                        v44 = g27;
                        v53 = *(int32_t *)(v44 + 196);
                        g29 = v53;
                        v54 = *(int32_t *)(v44 + 4);
                        g24 = v54;
                        v35 = mmap(NULL, v53, g9, g3, v54, g2);
                        g31 = (int32_t)v35;
                        if (v35 == (char *)-1) {
                            __errno();
                            strerror(*(int32_t *)-1);
                            __android_log_print();
                            __errno();
                            v69 = g16;
                            g20 = v69;
                        } else {
                            v38 = (char *)0;
                            v36 = ioctl(*(int32_t *)(g27 + 4), -0x7ffbb97f, &v38);
                            if (v36 > -1) {
                                v18 = (int32_t)v38;
                            }
                            if (v36 < 0) {
                                __android_log_print();
                                v68 = *(int32_t *)(g27 + 192);
                                v38 = (char *)v68;
                                v40 = v68;
                            } else {
                                v40 = v18;
                            }
                            g1 = v40 == 0;
                            if (v40 == 0) {
                                __android_log_print();
                                v50 = g27;
                                v38 = (char *)*(int32_t *)(v50 + 192);
                                v45 = v50;
                            } else {
                                v45 = g27;
                            }
                            *(int32_t *)(v45 + 8) = g31;
                            memset((char *)g31, g2, g29);
                            rtos_add_mapping();
                            v46 = g27;
                            g31 = 0;
                            v55 = *(int32_t *)(v46 + 16);
                            g22 = v46;
                            v56 = *(int32_t *)(v46 + 40);
                            v70 = *(int32_t *)0x4f50;
                            v57 = g30;
                            g23 = 0;
                            g32 = *(int32_t *)(v46 + 8);
                            g30 = v46;
                            v42 = v55 * *(int32_t *)(v46 + 20) * v56 / 8 + 4095 & 0x3ffff000;
                            while (true) {
                                g29 = 0;
                                v37 = _Znwj(g6);
                                g24 = v70;
                                v34 = (int32_t)v37;
                                g27 = v34;
                                g20 = 0;
                                *(int32_t *)(v34 + 12) = g29 + (int32_t)v38;
                                *(int32_t *)(g27 + 4) = 1;
                                *(int32_t *)g27 = v70 + 8;
                                *(int32_t *)(g27 + 20) = v42;
                                *(int32_t *)(g27 + 8) = g23;
                                *(int32_t *)(g27 + 16) = g32;
                                _ZN8HwImgBuf6createEjjjjj();
                                g21 = g27;
                                v58 = g2;
                                g26 = v58;
                                g28 = g20;
                                v59 = *(int32_t *)(v58 + 12);
                                g25 = v59;
                                g19 = 0x2808;
                                ((int32_t (*)())v59)();
                                v60 = g2;
                                g24 = v60;
                                v47 = g30;
                                g21 = *(int32_t *)(v47 + 16);
                                g20 = g28;
                                g25 = *(int32_t *)(v47 + 20);
                                v61 = *(int32_t *)(v60 + 20);
                                g26 = v61;
                                g19 = 0x2820;
                                ((int32_t (*)())v61)();
                                g21 = *(int32_t *)(g30 + 12);
                                g25 = 1;
                                g26 = 3;
                                g20 = g28;
                                v62 = *(int32_t *)(g2 + 28);
                                g24 = v62;
                                g19 = 0x283c;
                                ((int32_t (*)())v62)();
                                *(int32_t *)(g22 + 268) = g28;
                                v63 = *(int32_t *)(g30 + 20);
                                g21 = v63;
                                g20 = g27;
                                v48 = g31;
                                v51 = v48 * v63;
                                g25 = v51;
                                g31 = v48 + 1;
                                *(int32_t *)(g22 + 260) = v51;
                                g22 += 4;
                                v64 = *(int32_t *)g27;
                                g24 = v64;
                                v65 = *(int32_t *)(v64 + 12);
                                g26 = v65;
                                g19 = 0x2864;
                                ((int32_t (*)())v65)();
                                v41 = g31;
                                g1 = v41 == 2;
                                if (v41 != 2) {
                                    goto lab_0x286c_7;
                                }
                                g30 = v57;
                            }
                        }
                        g25 = v9;
                        v10 = *(int32_t *)g30;
                        g26 = v10;
                        if (v9 != v10) {
                            __stack_chk_fail();
                            return g20;
                        }
                        g27 = v1;
                        g29 = v2;
                        g30 = v3;
                        g31 = v4;
                        g32 = v5;
                        g22 = v6;
                        g23 = v7;
                        return -v69;
                    }
                }
            }
        }
        __android_log_print();
        g19 = 1;
        *(int32_t *)(g27 + 12) = 1;
    } else {
        __android_log_print();
    }
    v44 = g27;
    v53 = *(int32_t *)(v44 + 196);
    g29 = v53;
    v54 = *(int32_t *)(v44 + 4);
    g24 = v54;
    v35 = mmap(NULL, v53, g9, g3, v54, g2);
    g31 = (int32_t)v35;
    if (v35 == (char *)-1) {
        __errno();
        strerror(*(int32_t *)-1);
        __android_log_print();
        __errno();
        v69 = g16;
        g20 = v69;
    } else {
        v38 = (char *)0;
        v36 = ioctl(*(int32_t *)(g27 + 4), -0x7ffbb97f, &v38);
        if (v36 > -1) {
            v18 = (int32_t)v38;
        }
        if (v36 < 0) {
            __android_log_print();
            v68 = *(int32_t *)(g27 + 192);
            v38 = (char *)v68;
            v40 = v68;
        } else {
            v40 = v18;
        }
        g1 = v40 == 0;
        if (v40 == 0) {
            __android_log_print();
            v50 = g27;
            v38 = (char *)*(int32_t *)(v50 + 192);
            v45 = v50;
        } else {
            v45 = g27;
        }
        *(int32_t *)(v45 + 8) = g31;
        memset((char *)g31, g2, g29);
        rtos_add_mapping();
        v46 = g27;
        g31 = 0;
        v55 = *(int32_t *)(v46 + 16);
        g22 = v46;
        v56 = *(int32_t *)(v46 + 40);
        v70 = *(int32_t *)0x4f50;
        v57 = g30;
        g23 = 0;
        g32 = *(int32_t *)(v46 + 8);
        g30 = v46;
        v42 = v55 * *(int32_t *)(v46 + 20) * v56 / 8 + 4095 & 0x3ffff000;
        while (true) {
            g29 = 0;
            v37 = _Znwj(g6);
            g24 = v70;
            v34 = (int32_t)v37;
            g27 = v34;
            g20 = 0;
            *(int32_t *)(v34 + 12) = g29 + (int32_t)v38;
            *(int32_t *)(g27 + 4) = 1;
            *(int32_t *)g27 = v70 + 8;
            *(int32_t *)(g27 + 20) = v42;
            *(int32_t *)(g27 + 8) = g23;
            *(int32_t *)(g27 + 16) = g32;
            _ZN8HwImgBuf6createEjjjjj();
            g21 = g27;
            v58 = g2;
            g26 = v58;
            g28 = g20;
            v59 = *(int32_t *)(v58 + 12);
            g25 = v59;
            g19 = 0x2808;
            ((int32_t (*)())v59)();
            v60 = g2;
            g24 = v60;
            v47 = g30;
            g21 = *(int32_t *)(v47 + 16);
            g20 = g28;
            g25 = *(int32_t *)(v47 + 20);
            v61 = *(int32_t *)(v60 + 20);
            g26 = v61;
            g19 = 0x2820;
            ((int32_t (*)())v61)();
            g21 = *(int32_t *)(g30 + 12);
            g25 = 1;
            g26 = 3;
            g20 = g28;
            v62 = *(int32_t *)(g2 + 28);
            g24 = v62;
            g19 = 0x283c;
            ((int32_t (*)())v62)();
            *(int32_t *)(g22 + 268) = g28;
            v63 = *(int32_t *)(g30 + 20);
            g21 = v63;
            g20 = g27;
            v48 = g31;
            v51 = v48 * v63;
            g25 = v51;
            g31 = v48 + 1;
            *(int32_t *)(g22 + 260) = v51;
            g22 += 4;
            v64 = *(int32_t *)g27;
            g24 = v64;
            v65 = *(int32_t *)(v64 + 12);
            g26 = v65;
            g19 = 0x2864;
            ((int32_t (*)())v65)();
            v41 = g31;
            g1 = v41 == 2;
            if (v41 != 2) {
                goto lab_0x286c_7;
            }
            g30 = v57;
        }
    }
    g25 = v9;
    v10 = *(int32_t *)g30;
    g26 = v10;
    if (v9 != v10) {
        __stack_chk_fail();
        return g20;
    }
    g27 = v1;
    g29 = v2;
    g30 = v3;
    g31 = v4;
    g32 = v5;
    g22 = v6;
    g23 = v7;
    return -v69;
}

// --------------- Dynamically Linked Functions ---------------

// void __aeabi_uldivmod(void);
// void __android_log_print(void);
// int __cxa_atexit(void(*func)(void *), void * arg, void * dso_handle);
// void __cxa_finalize(void);
// void __errno(void);
// void __stack_chk_fail(void);
// void _Z14getV3DComposerv(void);
// void _ZdlPv(void);
// void _ZN7HwImgOp6createEv(void);
// void _ZN8HwImgBuf6createEjjjjj(void);
// int _Znwj(int size);
// void android_atomic_inc(void);
// int atoi(const char *);
// void clock_gettime(void);
// void eglSwapBuffers(void);
// int fclose(FILE *);
// FILE * fopen(const char *restrict, const char *restrict);
// void free(void *);
// size_t fwrite(const void *restrict, size_t, size_t, FILE *restrict);
// int gettimeofday(struct timeval *restrict tp, void *restrict tzp);
// void hw_get_module(void);
// int ioctl(int, int, ...);
// void * malloc(size_t);
// void * memset(void *, int, size_t);
// void *mmap(void *addr, size_t len, int prot, int flags, int fildes, off_t off);
// int open(const char *path, int oflag, ...);
// void property_get(void);
// void property_set(void);
// int pthread_create(pthread_t *thread, const pthread_attr_t *attr, void *(*start_routine)(void *), void *arg);
// int pthread_join(pthread_t thread, void **value_ptr);
// int pthread_mutex_init(pthread_mutex_t *mutex, const pthread_mutexattr_t *attr);
// int pthread_mutex_lock(pthread_mutex_t *mutex);
// int pthread_mutex_unlock(pthread_mutex_t *mutex);
// ssize_t read(int fildes, void *buf, size_t nbyte);
// void rtos_add_mapping(void);
// int snprintf(char *restrict, size_t, const char *restrict, ...);
// int strcmp(const char *, const char *);
// char * strerror(int);

// --------------------- Meta-Information ---------------------

// Detected compiler/packer: gcc (4.6)
// Detected functions: 26
// Decompiler release: v2.1.2 (2016-01-27)
// Decompilation date: 2016-05-01 14:45:07
